{% load i18n humanize %}
<div class="panel panel-default topic-group-wrapper topic-type-{{ topic_type }}">
    <div class="panel-heading">
        <h3 class="panel-title">
            {% if topic_type == 'highlighted' %}
                {% trans 'Highlighted topics' %}
            {% elif topic_type == 'normal' %}
                {% trans 'Normal topics' %}
            {% elif topic_type == 'archived' %}
                {% trans 'Archived topics' %}
            {% endif %}
            <span class="glyphicon glyphicon-arrow-up"></span>
        </h3>
    </div>
    <div class="panel-body">
        <div class="row topic-header-row">
            <div class="col-xs-6 col-ms-6">
                {% trans 'Topic' %}
            </div>
            <div class="col-xs-6 col-ms-2 text-center">
                {% trans 'Last commented at' %}
            </div>
            <div class="clearfix visible-xs-block"></div>
            <div class="col-xs-6 col-ms-2 text-center">
                {% trans 'Last commented by' %}
            </div>
            <div class="col-xs-6 col-ms-2 text-center">
                {% trans 'Total comments' %}
            </div>
        </div>
        <section class="topic-list-wrapper">
            {% include 'default/base/include/topic-group-page.html' with topic_list=topic_list %}
        </section>
        <section class="pagination-wrapper text-center">
        {% include 'default/base/include/topiclist-paginator.html' with page=topic_list %}
        </section>
    </div>
</div>
<script type="text/javascript">
    Forum.topicGroup.add({
        topicType: '{{ topic_type|escapejs }}',
        urls: {
            topicListPage: '{% url 'rest-api:v1-topic-list-page' %}',
        },
        selectors: {
            root: '.topic-group-wrapper.topic-type-{{ topic_type }}',
            username: '.topic-list-item-row .username',
            paginator: 'ul.pagination',
            topicListWrapper: '.topic-list-wrapper'
        },
        pageMax: {{ topic_list.paginator.num_pages|default:0 }},
    });
</script>
