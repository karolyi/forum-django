{% extends 'default/base.html' %}
{% load i18n humanize %}

{% block main_content %}
<div class="panel panel-default topic-group-wrapper topic-type-highlighted">
    <div class="panel-heading">
        <h3 class="panel-title">{% trans 'Highlighted topics' %}</h3>
    </div>
    <div class="panel-body">
        <div class="row topic-header-row">
            <div class="col-xs-6 col-sm-6">
                {% trans 'Topic' %}
            </div>
            <div class="col-xs-6 col-sm-2 text-center">
                {% trans 'Last commented at' %}
            </div>
            <div class="clearfix visible-xs-block"></div>
            <div class="col-xs-6 col-sm-2 text-center">
                {% trans 'Last commented by' %}
            </div>
            <div class="col-xs-6 col-sm-2 text-center">
                {% trans 'Total comments' %}
            </div>
        </div>
        {% for model_topic in topics_highlighted %}
        <div class="row topic-list-item-row {% cycle 'odd' 'even' %}">
            <div class="col-xs-6 col-sm-6">
                {# <a href="">{{ model_topic.name_html|safe }}</a> #}
                <a href="">{{ model_topic.name_text }}</a>
            </div>
            <div class="col-xs-6 col-sm-2 text-center">
                {{ model_topic.last_comment.time|naturaltime }}
            </div>
            <div class="clearfix visible-xs-block"></div>
            <div class="col-xs-6 col-sm-2 text-center">
                {{ model_topic.last_comment.user.username }}
            </div>
            <div class="col-xs-6 col-sm-2 text-center">
                {{ model_topic.comment_count }}
            </div>
        </div>
        {% endfor %}
        <div class="pagination-wrapper text-center">
        {% include 'default/paginator.html' with page=topics_highlighted %}
        </div>
    </div>
</div>

<div class="panel panel-default topic-group-wrapper topic-type-normal">
    <div class="panel-heading">
        <h3 class="panel-title">{% trans 'Normal topics' %}</h3>
    </div>
    <div class="panel-body">
        <div class="row topic-header-row">
            <div class="col-xs-6 col-sm-6">
                {% trans 'Topic' %}
            </div>
            <div class="col-xs-6 col-sm-2 text-center">
                {% trans 'Last commented at' %}
            </div>
            <div class="clearfix visible-xs-block"></div>
            <div class="col-xs-6 col-sm-2 text-center">
                {% trans 'Last commented by' %}
            </div>
            <div class="col-xs-6 col-sm-2 text-center">
                {% trans 'Total comments' %}
            </div>
        </div>
        {% for model_topic in topics_normal %}
        <div class="row topic-list-item-row {% cycle 'odd' 'even' %}">
            <div class="col-xs-6 col-sm-6">
                {# <a href="">{{ model_topic.name_html|safe }}</a> #}
                <a href="">{{ model_topic.name_text }}</a>
            </div>
            <div class="col-xs-6 col-sm-2 text-center">
                {{ model_topic.last_comment.time|naturaltime }}
            </div>
            <div class="clearfix visible-xs-block"></div>
            <div class="col-xs-6 col-sm-2 text-center">
                {{ model_topic.last_comment.user.username }}
            </div>
            <div class="col-xs-6 col-sm-2 text-center">
                {{ model_topic.comment_count }}
            </div>
        </div>
        {% endfor %}
        <div class="pagination-wrapper text-center">
        {% include 'default/paginator.html' with page=topics_normal %}
        </div>
    </div>
</div>

{% endblock main_content %}
